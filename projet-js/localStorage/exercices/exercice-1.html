<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <link rel="stylesheet" href="css/pico.min.css">
    <title>Exercice 1</title>
  </head>
  <body>
    <main class="container">

      <!--
        ðŸ“ EXERCICE 1 : Premiers pas avec localStorage
        
        OBJECTIF : Comprendre les opÃ©rations de base du localStorage

        
        CONCEPTS UTILES :
        - localStorage.setItem(key, value) : Sauvegarder une valeur
        - localStorage.getItem(key) : RÃ©cupÃ©rer une valeur
        - localStorage.removeItem(key) : Supprimer une valeur
        - querySelector() : SÃ©lectionner des Ã©lÃ©ments HTML
        - addEventListener() : GÃ©rer les Ã©vÃ©nements
        - .value : AccÃ©der Ã  la valeur d'un champ
        - .textContent : Modifier le contenu d'un Ã©lÃ©ment
        
        BONNES PRATIQUES :
        - Toujours vÃ©rifier si une valeur existe avant de l'utiliser
        - Donner des noms clairs aux clÃ©s localStorage
        - GÃ©rer les cas d'erreur (valeurs null, undefined)
        - Commenter son code pour expliquer chaque Ã©tape
      -->

      <h1>Exercice 1</h1>

      <!-- TODO: CrÃ©er l'interface utilisateur ici -->

     
      <!-- - Champ texte pour saisir une valeur -->
        <input class="text" type="text" placeholder="Saisir une valeur">
      <!-- - Bouton "Sauvegarder" -->
       <button class="save" type="submit">Sauvegarder</button>
      <!-- - Bouton "Charger" -->
       <button class="load" type="submit">Charger</button>
      <!-- - Bouton "Effacer" -->
       <button class="delete" type="submit">Effacer</button>
      <!-- - Ã‰lÃ©ment pour afficher la valeur -->
       <p class="value"></p>

    </main>

    <script>
      // TODO: Ã‰TAPE 1 - SÃ‰LECTIONNER LES Ã‰LÃ‰MENTS
      // Utiliser querySelector pour rÃ©cupÃ©rer :
      // - Le champ texte (input)
      let inputText = document.querySelector(".text")
      // - Les trois boutons (Sauvegarder, Charger, Effacer)
      const save = document.querySelector(".save")
      const load = document.querySelector(".load")
      const deleteValue = document.querySelector(".delete")
      // - L'Ã©lÃ©ment oÃ¹ afficher la valeur
      let valueText = document.querySelector(".value")

      // TODO: Ã‰TAPE 2 - GESTION DE LA SAUVEGARDE
      // - Ajouter un event listener sur le bouton "Sauvegarder"
      save.addEventListener("click", () => {
        const value = inputText.value
        localStorage.setItem("inputText", value);
        valueText.textContent = `${value}`;
        inputText.value = "";
      });
       // - RÃ©cupÃ©rer la valeur du champ texte
      // function getText () {
      //   let inputText = document.querySelector(".text").value
      // }
     
      // - Sauvegarder avec localStorage.setItem()
      
      // - Afficher la valeur sauvegardÃ©e
    

      // TODO: Ã‰TAPE 3 - GESTION DU CHARGEMENT
      // - Ajouter un event listener sur le bouton "Charger"
      // - RÃ©cupÃ©rer la valeur avec localStorage.getItem()
      // - Afficher la valeur rÃ©cupÃ©rÃ©e
      // - GÃ©rer le cas oÃ¹ la valeur est null

      load.addEventListener("click", () => {
        const value = localStorage.getItem("inputText");
        if(value === null || value === "") {
          valueText.textContent = "Aucune valeur sauvegardÃ©e";
        } else {valueText.textContent = value};
        console.log(value)
      });

      // TODO: Ã‰TAPE 4 - GESTION DE L'EFFACEMENT
      // - Ajouter un event listener sur le bouton "Effacer"
      // - Supprimer la valeur avec localStorage.removeItem()
      // - Effacer l'affichage

      deleteValue.addEventListener("click", () => {
        localStorage.removeItem("inputText")
        valueText.textContent = ""
      });

    </script>
  </body>
</html>
